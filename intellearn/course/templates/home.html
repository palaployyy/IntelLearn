{% extends "base.html" %}
{% load static %}

{% block content %}
<!-- üîç Quick Search -->
<div class="mb-4">
    <form method="get" class="row g-2">
        <div class="col-md-3">
            <select name="field" class="form-select">
                <option value="">-- Search in all fields --</option>
                <option value="title" {% if request.GET.field == "title" %}selected{% endif %}>Title</option>
                <option value="description" {% if request.GET.field == "description" %}selected{% endif %}>Description</option>
                <option value="instructor" {% if request.GET.field == "instructor" %}selected{% endif %}>Instructor</option>
            </select>
        </div>
        <div class="col-md-6">
            <input type="text" name="search" value="{{ request.GET.search }}" placeholder="Enter keyword..." class="form-control">
        </div>
        <div class="col-md-3">
            <button type="submit" class="btn btn-primary w-100">Search</button>
        </div>
    </form>
</div>

<!-- Hero Section -->
<div class="text-center py-5 bg-light rounded">
    <h1 class="fw-bold">Learn Anytime, Anywhere</h1>
    <p class="lead">Develop new skills with our online courses</p>
</div>

<!-- Featured Courses -->
<div class="d-flex justify-content-between align-items-center mt-5">
    <h2 class="mb-0">Featured Courses</h2>
    <a href="{% url 'course:add_course' %}" class="btn btn-success">‚ûï Add Course</a>
</div>

<!-- Courses Grid -->
<div class="row mt-3">
    {% for course in courses %}
        <div class="col-md-3">
            <div class="card mb-4 shadow-sm h-100">
                {% if course.thumbnail_url %}
                    <img src="{{ course.thumbnail_url }}" class="card-img-top" alt="{{ course.title }}">
                {% else %}
                    <img src="{% static 'images/python.png' %}" class="card-img-top" alt="{{ course.title }}">
                {% endif %}
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">{{ course.title }}</h5>
                    <p class="card-text">{{ course.description|truncatewords:20 }}</p>

                    <p class="mb-1">üìö {{ course.lesson_count }} lessons</p>
                    <p class="mb-2">üë©‚Äçüéì {{ course.student_count }} students</p>

                    <p class="fw-bold text-success">‡∏ø{{ course.price }}</p>

                    <div class="mt-auto d-flex gap-2">
                        <!-- ‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç -->
                        <a href="{% url 'course:edit_course' course.id %}" class="btn btn-warning btn-sm flex-fill">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</a>
                        <!-- ‚úÖ ‡∏õ‡∏∏‡πà‡∏°‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î -->
                        <a href="{% url 'course:course_detail' course.id %}" class="btn btn-primary btn-sm flex-fill">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</a>
                    </div>
                </div>
            </div>
        </div>
    {% empty %}
        <p>No courses available.</p>
    {% endfor %}
</div>

<!-- Why Choose Us Section -->
<section class="py-5 bg-light">
    <div class="container">
        <h2 class="fw-bold text-center mb-5">Why Choose Us</h2>
        <div class="row g-4">
            <!-- Card 1 -->
            <div class="col-md-3">
                <div class="card h-100 shadow-sm text-center border-0">
                    <div class="card-body">
                        <img src="{% static 'images/teacher.png' %}" alt="Expert Instructors" width="70" class="mb-3">
                        <h5 class="card-title fw-bold">Expert Instructors</h5>
                        <p class="card-text text-muted">Learn from industry experts with years of experience.</p>
                    </div>
                </div>
            </div>
            <!-- Card 2 -->
            <div class="col-md-3">
                <div class="card h-100 shadow-sm text-center border-0">
                    <div class="card-body">
                        <img src="{% static 'images/flexibility.png' %}" alt="Flexible Learning" width="70" class="mb-3">
                        <h5 class="card-title fw-bold">Flexible Learning</h5>
                        <p class="card-text text-muted">Study anytime, anywhere at your own pace.</p>
                    </div>
                </div>
            </div>
            <!-- Card 3 -->
            <div class="col-md-3">
                <div class="card h-100 shadow-sm text-center border-0">
                    <div class="card-body">
                        <img src="{% static 'images/certificate.png' %}" alt="Certification" width="70" class="mb-3">
                        <h5 class="card-title fw-bold">Certification</h5>
                        <p class="card-text text-muted">Receive recognized certificates upon completion.</p>
                    </div>
                </div>
            </div>
            <!-- Card 4 -->
            <div class="col-md-3">
                <div class="card h-100 shadow-sm text-center border-0">
                    <div class="card-body">
                        <img src="{% static 'images/support.png' %}" alt="Support" width="70" class="mb-3">
                        <h5 class="card-title fw-bold">24/7 Support</h5>
                        <p class="card-text text-muted">Get guidance and support whenever you need it.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
