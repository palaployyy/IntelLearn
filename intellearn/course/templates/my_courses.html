{% extends "base.html" %}
{% load static %}

{% block content %}
<style>
/* üåà ‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏±‡∏ß */
.page-title {
  font-weight: 700;
  color: #0d6efd;
  margin-bottom: 25px;
}

/* üéì ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≠‡∏£‡πå‡∏™ */
.course-card {
  border: none;
  border-radius: 15px;
  background: #fff;
  padding: 20px 25px;
  margin-bottom: 15px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
  transition: all 0.3s ease;
}

.course-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
  background: #f8faff;
}

.course-title {
  font-weight: 600;
  color: #333;
}

.course-desc {
  color: #666;
  font-size: 0.95rem;
}

.progress {
  height: 12px;
  border-radius: 6px;
  background-color: #e9ecef;
}

.progress-bar {
  border-radius: 6px;
  transition: width 0.6s ease;
}

.badge-progress {
  background: #198754;
  color: white;
  font-size: 0.8rem;
  padding: 5px 10px;
  border-radius: 8px;
}

.alert-info {
  background: #e7f1ff;
  border: none;
  color: #0d6efd;
  border-radius: 10px;
}
</style>

<div class="container py-4">
  <h3 class="page-title">üìò ‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</h3>

  {% if rows %}
    {% for r in rows %}
      <a href="{% url 'course:course_detail' r.course.id %}" class="text-decoration-none">
        <div class="course-card">
          <div class="d-flex justify-content-between align-items-center mb-1">
            <h5 class="course-title mb-0">{{ r.course.title }}</h5>
            <span class="badge-progress">{{ r.pct }}%</span>
          </div>
          <p class="course-desc mb-3">{{ r.course.description|truncatewords:20 }}</p>

          <div class="d-flex align-items-center gap-2">
            <div class="progress flex-grow-1">
              <div class="progress-bar bg-success" style="width: {{ r.pct }}%;"></div>
            </div>
            <small class="text-muted">{{ r.done }}/{{ r.total }}</small>
          </div>
        </div>
      </a>
    {% endfor %}
  {% else %}
    <div class="alert alert-info text-center p-4 mt-4">
      <h5 class="mb-2">üì≠ ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏ó‡∏µ‡πà‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</h5>
      <p class="mb-0">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ <a href="{% url 'course:home' %}" class="text-decoration-none fw-semibold">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>!</p>
    </div>
  {% endif %}
</div>
{% endblock %}
